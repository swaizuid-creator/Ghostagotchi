import { ACTIONS_CORS_HEADERS, BLOCKCHAIN_IDS } from "./constants.js";
/**
 * Construct valid headers for use with Action APIs
 */
export function createActionHeaders({ headers, chainId, actionVersion, } = {}) {
    if (chainId) {
        headers = Object.assign({}, headers || {}, {
            "X-Blockchain-Ids": Object.hasOwn(BLOCKCHAIN_IDS, chainId)
                ? BLOCKCHAIN_IDS[chainId]
                : chainId,
        });
    }
    if (actionVersion) {
        headers = Object.assign({}, headers || {}, {
            "X-Action-Version": actionVersion.toString(),
        });
    }
    if (headers)
        return Object.assign({}, ACTIONS_CORS_HEADERS, headers);
    else
        return ACTIONS_CORS_HEADERS;
}
/**
 * Middleware to enable proper CORS headers for Action APIs
 */
export function actionCorsMiddleware(args) {
    return (_req, res, next) => {
        res.set(createActionHeaders(args));
        next();
    };
}
//# sourceMappingURL=utils.js.map